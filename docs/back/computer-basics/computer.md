---
title: 计算机网络
description: 计算机网络入门
meta:
  - name: keywords
    content: 计算机 计算机网络 网络
---
# 计算机网络

传输层：建立端到端的连接

![image-20220220102024064](@alias/image-20220220102024064.png)



## 一、在浏览器输入url后发生了什么？

输入网址，浏览器对网址进行DNS解析，找到网址对应的IP地址；

DNS其实就是一个数据库，记录着很多url和对应的IP地址；

有了IP地址，就可以找到对应的服务器

虽然浏览器知道了IP地址，但是在真正发送数据之前，需要和服务器建立TCP连接，也就是在发送数据之前建立客户端和服务端的通道；

## 二、于是就有了建立通道前的三次握手：

1. 客户端发送SYN（同步）数据包请求连接
2. 服务器响应SYN（同步）和ACK（确认号：syn号+1）数据包表示同意建立连接
3. 客户端在发送ACK（确认）数据包表示成功连接

## 三、TCP建立成功后，客户端发送HTTP请求：

1. 浏览器发送HTTP请求报文给服务器；
2. 请求报文的格式由请求行，请求头，空行，请求数据组成
   - 请求行：由请求方法，请求地址，HTTP协议版本组成
   - 请求头部：关于浏览器的信息，键值对组成；直到遇到空行，表示下面没有请求头部了；
   - 请求数据：请求的参数，可以是get参数，也可以是POST参数
3. 服务器收到HTTP请求报文以后，服务器会处理请求报文，做出响应；
4. 响应报文的格式和请求报文相似：由状态行、响应头部、空行、响应数据组成
   - 状态行：404 （Not Found，表示没找到资源）；200，表示请求成功
   - 响应头部：键值对组成：content-type：text/html;shartset=uft-8
   - 响应数据：页面有内容
5. 浏览器在接收到服务器的响应后，开始解析HTML、css、Javascript文件，页面开始渲染，用户可以看到页面内容了。

## 四、四次挥手：关闭连接的过程

客户端和服务器都能发起关闭请求：

1. 客户端在报文中开启FIN（结束）和ACK（确认）两个控制位
2. 服务端接收到关闭请求后返回对方的ACK+1告诉客户端我接收到关闭请求了；这时候还没有关闭，因为这时候服务端可能还有要发送的数据
3. 服务端发送完数据后会发送FIN和ACK （确认好不需要加１）来进行最后的确认
4. 客户端收到最终的结束确认后会发送对方的ＡCK+1和自己的确认好+1，关闭连接成功。

为什么会有四次，就是因为服务端收到客户端的请求后返回确认我收到关闭请求了，但这时可能存在一些数据未发送完毕，因此等数据全部发送完毕之后，再发送一次FIN+ACK告诉客户端做最后的确认。

## 五、http和https的区别

## 六、GET和POST的区别

### 1、get方法

我在麦当劳的菜单上点了一份巨无霸；麦当劳是域名，菜单是路径，巨无霸就是请求参数

![image-20220220092318203](@alias/image-20220220092318203.png)

get：可以理解为检索，获取；

url参数是从？开始，每组参数由键值对组成bigmac = 1；并且以&进行键值对分割

服务器根据url上的参数匹配响应的资源返回给浏览器

### 2、POST方法

我在银行网站上输入密码和账号查看自己有多少钱

POST以创建或更新为主，数据可以比较大

请求参数放在请求主体里面，不会出现在url上

![image-20220220095932627](@alias/image-20220220095932627.png)

### 3、简单区别

简单的区别：

![image-20220220101501157](@alias/image-20220220101501157.png)

如果薪资要求高，建议把下面的区别也说出来：

### 4、报文上的区别

GET 和 POST 只是 HTTP 协议中两种请求方式：

- 在传输上，没有区别：因为HTTP 协议是基于 TCP/IP 的应用层协议
- 报文格式上，不带参数时：最大区别仅仅是第一行方法名不同，一个是GET，一个是POST
- 带参数时报文是有区别的：

> GET 方法的参数应该放在 url 中，POST 方法参数应该放在 body 中
> 举个例子，如果参数是 name=qiming.c, age=22。
> GET 方法简约版报文可能是这样的 
> GET /index.php?name=qiming.c&age=22 HTTP/1.1
> Host: localhost
>
> POST 方法简约版报文可能是这样的 
>  POST /index.php HTTP/1.1
>  Host: localhost 
>  Content-Type: application/x-www-form-urlencoded name=qiming. c&age=22

### 5、参数长度和大小不同

- url的长度有限制，这个限制又浏览器决定，谷歌浏览器的常用版本的url限制为2MB，也就是2048字符，服务器也会对url长度做限制

浏览器对中文字符用百分号编码，大部分使用utf-8

### 6、GET产生一个TCP数据包；POST产生两个TCP数据包。

GET和POST还有一个重大区别，简单的说：

GET产生一个TCP数据包；POST产生两个TCP数据包。

长的说：

对于GET方式的请求，浏览器会把http header和data一并发送出去，服务器响应200（返回数据）；

而对于POST，浏览器先发送header，服务器响应100 continue，浏览器再发送data，服务器响应200 ok（返回数据）。

也就是说，GET只需要汽车跑一趟就把货送到了，而POST得跑两趟，第一趟，先去和服务器打个招呼“嗨，我等下要送一批货来，你们打开门迎接我”，然后再回头把货送过去。

据研究，在网络环境好的情况下，发一次包的时间和发两次包的时间差别基本可以无视。而在网络环境差的情况下，两次包的TCP在验证数据包完整性上，有非常大的优点。

并不是所有浏览器都会在POST中发送两次包，Firefox就只发送一次。

### 7、POST 比 GET 安全

POST 比 GET 安全，因为数据在地址栏上不可见。
然而从传输的角度来说，他们都是不安全的，因为 HTTP 在网络上是明文传输，只要在网络节点上抓包，就能完整地获取数据报文。
要想安全传输，就只有加密，也就是 HTTPS



## 五、DNS解析

DNS域名解析过程的底层原理类似图书馆的运营管理方法

域名也是按照层级划分

![image-20220220115323842](@alias/image-20220220115323842.png)

![image-20220220115827505](@alias/image-20220220115827505.png)

<ClientOnly>
  <Valine></Valine>
</ClientOnly>